# curl 'http://localhost:3000/download/model'
#  -H 'Accept: application/json, text/plain, */*'
#  -H 'Accept-Language: en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7'
#  -H 'Connection: keep-alive'
#  -H 'Content-Type: application/json'
#  -H 'Cookie: Idea-923b027=c98c787c-a44c-4e10-aa72-1b0fcf7dfe6a'
#  -H 'Origin: http://localhost:3000'
#  -H 'Referer: http://localhost:3000/'
#  -H 'Sec-Fetch-Dest: empty'
#  -H 'Sec-Fetch-Mode: cors'
#  -H 'Sec-Fetch-Site: same-origin'
#  -H 'User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36'
#  -H 'sec-ch-ua: "Not_A Brand";v="99", "Google Chrome";v="109", "Chromium";v="109"'
#  -H 'sec-ch-ua-mobile: ?0'
#  -H 'sec-ch-ua-platform: "Windows"'
#  --data-raw '{"dataset":"base","dependency":{"displayName":"ops_dfw_prod.dbo.dealers","tableName":{"catalog":"ops_dfw_prod","schema":"dbo","table":"dealers"},"subDependencies":[{"displayName":"ops_dfw_prod.dbo.contact_list","tableName":{"catalog":"ops_dfw_prod","schema":"dbo","table":"contact_list"},"constraintName":"dealers_account_rep_fk","subDependencies":[{"displayName":"ops_dfw_prod.dbo.contact_type_lk","tableName":{"catalog":"ops_dfw_prod","schema":"dbo","table":"contact_type_lk"},"constraintName":"contact_list_contact_type_lk_fk","subDependencies":[],"selected":true,"mandatory":true,"queries":[]},{"displayName":"ops_dfw_prod.dbo.users","tableName":{"catalog":"ops_dfw_prod","schema":"dbo","table":"users"},"constraintName":"user_id_contact_fk","subDependencies":[],"selected":true,"mandatory":true,"queries":[]}],"selected":true,"mandatory":true,"queries":[]},{"displayName":"ops_dfw_prod.dbo.companies","tableName":{"catalog":"ops_dfw_prod","schema":"dbo","table":"companies"},"constraintName":"dealers_companies_fk","subDependencies":[],"selected":true,"mandatory":true,"queries":[]},{"displayName":"ops_dfw_prod.dbo.supplier_group_lk","tableName":{"catalog":"ops_dfw_prod","schema":"dbo","table":"supplier_group_lk"},"constraintName":"dealers_supplier_group_lk_fk","subDependencies":[],"selected":true,"mandatory":true,"queries":[]},{"displayName":"ops_dfw_prod.dbo.tz_lk","tableName":{"catalog":"ops_dfw_prod","schema":"dbo","table":"tz_lk"},"constraintName":"dealers_tz_lk_fk","subDependencies":[{"displayName":"ops_dfw_prod.dbo.timezone_lk","tableName":{"catalog":"ops_dfw_prod","schema":"dbo","table":"timezone_lk"},"constraintName":"tzlk_timezone_lk_fk","subDependencies":[],"selected":true,"mandatory":true,"queries":[]}],"selected":true,"mandatory":true,"queries":[]},{"displayName":"ops_dfw_prod.dbo.external_reps","tableName":{"catalog":"ops_dfw_prod","schema":"dbo","table":"external_reps"},"constraintName":"FK_external_rep_dealer","subDependencies":[],"selected":true,"mandatory":true,"queries":[]},{"displayName":"ops_dfw_prod.dbo.make_types","tableName":{"catalog":"ops_dfw_prod","schema":"dbo","table":"make_types"},"constraintName":"make_types_dealer_fk","subDependencies":[{"displayName":"ops_dfw_prod.dbo.makes_shops","tableName":{"catalog":"ops_dfw_prod","schema":"dbo","table":"makes_shops"},"constraintName":"makes_shops_make_types","subDependencies":[{"displayName":"ops_dfw_prod.dbo.shops","tableName":{"catalog":"ops_dfw_prod","schema":"dbo","table":"shops"},"constraintName":"makes_shops_shops","subDependencies":[{"displayName":"ops_dfw_prod.dbo.package_shop_lk","tableName":{"catalog":"ops_dfw_prod","schema":"dbo","table":"package_shop_lk"},"constraintName":"FK_shops_package_lk","subDependencies":[],"selected":true,"mandatory":true,"queries":[]},{"displayName":"ops_dfw_prod.dbo.mso_type_lk","tableName":{"catalog":"ops_dfw_prod","schema":"dbo","table":"mso_type_lk"},"constraintName":"shops_mso_type_fk","subDependencies":[],"selected":true,"mandatory":true,"queries":[]}],"selected":true,"mandatory":true,"queries":[{"column":"id","value":"35"}]}],"selected":true,"mandatory":false,"queries":[]}],"selected":true,"mandatory":false,"queries":[]},{"displayName":"del_trax_prod.dbo.ship_vendors","tableName":{"catalog":"del_trax_prod","schema":"dbo","table":"ship_vendors"},"constraintName":"dealers_ship_vendors_fk","subDependencies":[{"displayName":"del_trax_prod.dbo.dms_type_lk","tableName":{"catalog":"del_trax_prod","schema":"dbo","table":"dms_type_lk"},"constraintName":"FK_ship_vendors_dms_type_lk","subDependencies":[],"selected":true,"mandatory":true,"queries":[]},{"displayName":"del_trax_prod.dbo.dashi_lk","tableName":{"catalog":"del_trax_prod","schema":"dbo","table":"dashi_lk"},"constraintName":"dashi_lk_ship_vendors_ship_vendor_id_fk","subDependencies":[{"displayName":"del_trax_prod.dbo.dms_adp_interfaces","tableName":{"catalog":"del_trax_prod","schema":"dbo","table":"dms_adp_interfaces"},"constraintName":"dms_adp_interfaces_dms_interfaces_fk","subDependencies":[],"selected":true,"mandatory":false,"queries":[]}],"selected":true,"mandatory":false,"queries":[]},{"displayName":"del_trax_prod.dbo.warehouses","tableName":{"catalog":"del_trax_prod","schema":"dbo","table":"warehouses"},"constraintName":"warehouses_ship_vendor_fk","subDependencies":[{"displayName":"del_trax_prod.dbo.location","tableName":{"catalog":"del_trax_prod","schema":"dbo","table":"location"},"constraintName":"warehouses_location_fk","subDependencies":[],"selected":true,"mandatory":true,"queries":[]}],"selected":true,"mandatory":false,"queries":[]}],"selected":true,"mandatory":false,"queries":[]}],"selected":true,"mandatory":true,"queries":[{"column":"id","value":"51"}]},"queryValues":{},"dryRun":true,"maxRows":1000}'
#  --compressed
POST http://localhost:3000/download/model
Accept: application/json, text/plain, */*
Accept-Language: en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7
Connection: keep-alive
Cookie: Idea-923b027=c98c787c-a44c-4e10-aa72-1b0fcf7dfe6a
Origin: http://localhost:3000
Referer: http://localhost:3000/
Sec-Fetch-Dest: empty
Sec-Fetch-Mode: cors
Sec-Fetch-Site: same-origin
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36
sec-ch-ua: "Not_A Brand";v="99", "Google Chrome";v="109", "Chromium";v="109"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "Windows"
Content-Type: application/json

{
  "dataset": "base",
  "dependency": {
    "displayName": "ops_dfw_prod.dbo.dealers",
    "tableName": {
      "catalog": "ops_dfw_prod",
      "schema": "dbo",
      "table": "dealers"
    },
    "subDependencies": [
      {
        "displayName": "ops_dfw_prod.dbo.contact_list",
        "tableName": {
          "catalog": "ops_dfw_prod",
          "schema": "dbo",
          "table": "contact_list"
        },
        "constraintName": "dealers_account_rep_fk",
        "subDependencies": [
          {
            "displayName": "ops_dfw_prod.dbo.contact_type_lk",
            "tableName": {
              "catalog": "ops_dfw_prod",
              "schema": "dbo",
              "table": "contact_type_lk"
            },
            "constraintName": "contact_list_contact_type_lk_fk",
            "subDependencies": [],
            "selected": true,
            "mandatory": true,
            "queries": []
          },
          {
            "displayName": "ops_dfw_prod.dbo.users",
            "tableName": {
              "catalog": "ops_dfw_prod",
              "schema": "dbo",
              "table": "users"
            },
            "constraintName": "user_id_contact_fk",
            "subDependencies": [],
            "selected": true,
            "mandatory": true,
            "queries": []
          }
        ],
        "selected": true,
        "mandatory": true,
        "queries": []
      },
      {
        "displayName": "ops_dfw_prod.dbo.companies",
        "tableName": {
          "catalog": "ops_dfw_prod",
          "schema": "dbo",
          "table": "companies"
        },
        "constraintName": "dealers_companies_fk",
        "subDependencies": [],
        "selected": true,
        "mandatory": true,
        "queries": []
      },
      {
        "displayName": "ops_dfw_prod.dbo.supplier_group_lk",
        "tableName": {
          "catalog": "ops_dfw_prod",
          "schema": "dbo",
          "table": "supplier_group_lk"
        },
        "constraintName": "dealers_supplier_group_lk_fk",
        "subDependencies": [],
        "selected": true,
        "mandatory": true,
        "queries": []
      },
      {
        "displayName": "ops_dfw_prod.dbo.tz_lk",
        "tableName": {
          "catalog": "ops_dfw_prod",
          "schema": "dbo",
          "table": "tz_lk"
        },
        "constraintName": "dealers_tz_lk_fk",
        "subDependencies": [
          {
            "displayName": "ops_dfw_prod.dbo.timezone_lk",
            "tableName": {
              "catalog": "ops_dfw_prod",
              "schema": "dbo",
              "table": "timezone_lk"
            },
            "constraintName": "tzlk_timezone_lk_fk",
            "subDependencies": [],
            "selected": true,
            "mandatory": true,
            "queries": []
          }
        ],
        "selected": true,
        "mandatory": true,
        "queries": []
      },
      {
        "displayName": "ops_dfw_prod.dbo.external_reps",
        "tableName": {
          "catalog": "ops_dfw_prod",
          "schema": "dbo",
          "table": "external_reps"
        },
        "constraintName": "FK_external_rep_dealer",
        "subDependencies": [],
        "selected": true,
        "mandatory": true,
        "queries": []
      },
      {
        "displayName": "ops_dfw_prod.dbo.make_types",
        "tableName": {
          "catalog": "ops_dfw_prod",
          "schema": "dbo",
          "table": "make_types"
        },
        "constraintName": "make_types_dealer_fk",
        "subDependencies": [
          {
            "displayName": "ops_dfw_prod.dbo.makes_shops",
            "tableName": {
              "catalog": "ops_dfw_prod",
              "schema": "dbo",
              "table": "makes_shops"
            },
            "constraintName": "makes_shops_make_types",
            "subDependencies": [
              {
                "displayName": "ops_dfw_prod.dbo.shops",
                "tableName": {
                  "catalog": "ops_dfw_prod",
                  "schema": "dbo",
                  "table": "shops"
                },
                "constraintName": "makes_shops_shops",
                "subDependencies": [
                  {
                    "displayName": "ops_dfw_prod.dbo.package_shop_lk",
                    "tableName": {
                      "catalog": "ops_dfw_prod",
                      "schema": "dbo",
                      "table": "package_shop_lk"
                    },
                    "constraintName": "FK_shops_package_lk",
                    "subDependencies": [],
                    "selected": true,
                    "mandatory": true,
                    "queries": []
                  },
                  {
                    "displayName": "ops_dfw_prod.dbo.mso_type_lk",
                    "tableName": {
                      "catalog": "ops_dfw_prod",
                      "schema": "dbo",
                      "table": "mso_type_lk"
                    },
                    "constraintName": "shops_mso_type_fk",
                    "subDependencies": [],
                    "selected": true,
                    "mandatory": true,
                    "queries": []
                  }
                ],
                "selected": true,
                "mandatory": true,
                "queries": [
                  {
                    "column": "id",
                    "value": "35"
                  }
                ]
              }
            ],
            "selected": true,
            "mandatory": false,
            "queries": []
          }
        ],
        "selected": true,
        "mandatory": false,
        "queries": []
      },
      {
        "displayName": "del_trax_prod.dbo.ship_vendors",
        "tableName": {
          "catalog": "del_trax_prod",
          "schema": "dbo",
          "table": "ship_vendors"
        },
        "constraintName": "dealers_ship_vendors_fk",
        "subDependencies": [
          {
            "displayName": "del_trax_prod.dbo.dms_type_lk",
            "tableName": {
              "catalog": "del_trax_prod",
              "schema": "dbo",
              "table": "dms_type_lk"
            },
            "constraintName": "FK_ship_vendors_dms_type_lk",
            "subDependencies": [],
            "selected": true,
            "mandatory": true,
            "queries": []
          },
          {
            "displayName": "del_trax_prod.dbo.dashi_lk",
            "tableName": {
              "catalog": "del_trax_prod",
              "schema": "dbo",
              "table": "dashi_lk"
            },
            "constraintName": "dashi_lk_ship_vendors_ship_vendor_id_fk",
            "subDependencies": [
              {
                "displayName": "del_trax_prod.dbo.dms_adp_interfaces",
                "tableName": {
                  "catalog": "del_trax_prod",
                  "schema": "dbo",
                  "table": "dms_adp_interfaces"
                },
                "constraintName": "dms_adp_interfaces_dms_interfaces_fk",
                "subDependencies": [],
                "selected": true,
                "mandatory": false,
                "queries": []
              }
            ],
            "selected": true,
            "mandatory": false,
            "queries": []
          },
          {
            "displayName": "del_trax_prod.dbo.warehouses",
            "tableName": {
              "catalog": "del_trax_prod",
              "schema": "dbo",
              "table": "warehouses"
            },
            "constraintName": "warehouses_ship_vendor_fk",
            "subDependencies": [
              {
                "displayName": "del_trax_prod.dbo.location",
                "tableName": {
                  "catalog": "del_trax_prod",
                  "schema": "dbo",
                  "table": "location"
                },
                "constraintName": "warehouses_location_fk",
                "subDependencies": [],
                "selected": true,
                "mandatory": true,
                "queries": []
              }
            ],
            "selected": true,
            "mandatory": false,
            "queries": []
          }
        ],
        "selected": true,
        "mandatory": false,
        "queries": []
      }
    ],
    "selected": true,
    "mandatory": true,
    "queries": [
      {
        "column": "id",
        "value": "51"
      }
    ]
  },
  "queryValues": {},
  "dryRun": true,
  "maxRows": 1000
}

###

